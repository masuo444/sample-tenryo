<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤©é ˜é…’é€  - é£›é¨¨ã®åœ°é…’ å‰µæ¥­1680å¹´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #2c1810;
            --color-secondary: #3d2817;
            --color-accent: #d4af37;
            --color-accent-light: #f4d03f;
            --color-accent-dark: #b8941f;
            --color-text: #ffffff;
            --color-text-muted: #f8f9fa;
            --color-text-dark: #2c1810;
            --color-surface: rgba(61, 40, 23, 0.95);
            --color-overlay: rgba(0, 0, 0, 0.7);
        }

        body {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'Noto Serif JP', serif;
            background: linear-gradient(135deg, var(--color-primary) 0%, #1f0e08 100%);
            color: var(--color-text);
            overflow-x: hidden;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--color-surface);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--color-accent);
            padding: 1rem 2rem;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-mark {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--color-primary);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .logo-text h1 {
            font-size: 1.5rem;
            color: var(--color-accent);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .logo-text p {
            font-size: 0.8rem;
            color: var(--color-text-muted);
            opacity: 0.9;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
        }

        nav a {
            color: var(--color-text-muted);
            text-decoration: none;
            transition: all 0.3s;
            font-weight: 500;
        }

        nav a:hover {
            color: var(--color-accent);
            transform: translateY(-2px);
        }

        /* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .hero {
            margin-top: 80px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: radial-gradient(ellipse at center, rgba(212, 175, 55, 0.05) 0%, transparent 70%);
        }

        .hero-content {
            text-align: center;
            padding: 2rem;
            max-width: 900px;
        }

        .hero h2 {
            font-size: 4rem;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 5px 20px rgba(212, 175, 55, 0.3);
        }

        .hero .subtitle {
            font-size: 1.5rem;
            color: var(--color-text-muted);
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        .hero-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: var(--color-surface);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--color-accent-dark);
            transition: all 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
            border-color: var(--color-accent);
        }

        .feature-card h3 {
            color: var(--color-accent);
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .feature-card p {
            color: var(--color-text-muted);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* ã‚¯ãƒ©ãƒãƒˆãƒ©ãƒ¼ç´¹ä»‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .kurabatler-intro {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid var(--color-accent);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 3rem;
            display: flex;
            align-items: center;
            gap: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .kurabatler-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--color-accent);
            object-fit: cover;
            flex-shrink: 0;
        }

        .kurabatler-text h3 {
            color: var(--color-accent);
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
        }

        .kurabatler-text p {
            color: var(--color-text-muted);
            line-height: 1.6;
            font-size: 1rem;
        }

        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…±é€š */
        section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--color-accent);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
        }

        /* æ­´å²ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .history {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem auto;
        }

        .timeline {
            position: relative;
            padding-left: 50px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--color-accent-dark);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -35px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--color-accent);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }

        .timeline-item h3 {
            color: var(--color-accent);
            margin-bottom: 0.5rem;
        }

        /* éŠ˜æŸ„ã‚®ãƒ£ãƒ©ãƒªãƒ¼ */
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .product-card {
            background: var(--color-surface);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s;
            border: 2px solid var(--color-accent-dark);
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(212, 175, 55, 0.3);
            border-color: var(--color-accent);
        }

        .product-image {
            height: 200px;
            background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--color-accent);
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-info h3 {
            color: var(--color-accent);
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .product-info .category {
            color: var(--color-accent-light);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .product-info p {
            color: var(--color-text-muted);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .product-specs {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .spec-label {
            color: var(--color-accent-dark);
        }

        .spec-value {
            color: var(--color-text-muted);
        }

        /* ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ */
        .chatbot-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(212, 175, 55, 0.4);
            transition: all 0.3s;
            z-index: 999;
        }

        .chatbot-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.6);
        }

        .chatbot-button svg {
            width: 30px;
            height: 30px;
            fill: var(--color-primary);
        }

        /* GPT APIã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒœã‚¿ãƒ³ */
        .api-status-button {
            position: fixed;
            bottom: 30px;
            right: 110px;
            width: 80px;
            height: 40px;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid #e1e5e9;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            z-index: 998;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .api-status-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‰² */
        .api-status-button.checking .status-indicator {
            background: #ffa500;
            animation: pulse 1.5s infinite;
        }

        .api-status-button.online .status-indicator {
            background: #22c55e;
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.4);
        }

        .api-status-button.offline .status-indicator {
            background: #ef4444;
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.4);
        }

        .api-status-button.checking {
            border-color: #ffa500;
            color: #f59e0b;
        }

        .api-status-button.online {
            border-color: #22c55e;
            color: #16a34a;
        }

        .api-status-button.offline {
            border-color: #ef4444;
            color: #dc2626;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        .chatbot-container {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 380px;
            height: 600px;
            background: var(--color-surface);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            border: 2px solid var(--color-accent);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            z-index: 998;
            overflow: hidden;
        }

        .chatbot-container.active {
            display: flex;
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            padding: 1.5rem;
            color: var(--color-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--color-primary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .chatbot-close:hover {
            transform: rotate(90deg);
        }

        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 0.8rem 1.2rem;
            border-radius: 15px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            color: var(--color-primary);
        }

        .message.bot {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            color: var(--color-text);
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .typing-indicator {
            display: none;
            align-self: flex-start;
            padding: 0.8rem 1.2rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--color-accent);
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .chatbot-input {
            padding: 1rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
            display: flex;
            gap: 0.5rem;
        }

        .chatbot-input input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: var(--color-text);
            padding: 0.8rem;
            border-radius: 25px;
            font-size: 0.95rem;
            outline: none;
            transition: all 0.3s;
        }

        .chatbot-input input:focus {
            border-color: var(--color-accent);
            background: rgba(255, 255, 255, 0.15);
        }

        .chatbot-input input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .input-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .voice-btn, .send-btn {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .voice-btn:hover, .send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }

        .voice-btn svg, .send-btn svg {
            width: 20px;
            height: 20px;
            fill: var(--color-primary);
        }

        .voice-btn.recording {
            animation: pulse 1s infinite;
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(229, 62, 62, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(229, 62, 62, 0); }
            100% { box-shadow: 0 0 0 0 rgba(229, 62, 62, 0); }
        }

        .quick-replies {
            padding: 0.5rem 1rem;
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
        }

        .quick-reply {
            padding: 0.5rem 1rem;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid var(--color-accent-dark);
            border-radius: 20px;
            color: var(--color-accent);
            font-size: 0.85rem;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-reply:hover {
            background: var(--color-accent);
            color: var(--color-primary);
        }

        /* å•†å“è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .product-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 2rem;
        }

        .product-modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--color-surface);
            backdrop-filter: blur(15px);
            border: 2px solid var(--color-accent);
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
            color: var(--color-primary);
            padding: 2rem;
            text-align: center;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--color-primary);
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(0, 0, 0, 0.2);
            transform: rotate(90deg);
        }

        .modal-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .modal-category {
            font-size: 1rem;
            opacity: 0.9;
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-section {
            margin-bottom: 2rem;
        }

        .modal-section h4 {
            color: var(--color-accent);
            font-size: 1.3rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            padding-bottom: 0.5rem;
        }

        .modal-description {
            color: var(--color-text-muted);
            line-height: 1.8;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .modal-specs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .modal-spec-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.2);
            text-align: center;
        }

        .modal-spec-label {
            color: var(--color-accent-dark);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .modal-spec-value {
            color: var(--color-text);
            font-size: 1.2rem;
            font-weight: bold;
        }

        .modal-tasting-notes {
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid var(--color-accent-dark);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .modal-tasting-notes h5 {
            color: var(--color-accent);
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .tasting-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }

        .tasting-item {
            text-align: center;
        }

        .tasting-item .label {
            color: var(--color-accent-dark);
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .tasting-item .value {
            color: var(--color-text-muted);
            font-size: 1rem;
        }

        .award-badge {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: var(--color-primary);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            .modal-content {
                margin: 1rem;
                max-height: 90vh;
            }

            .modal-header {
                padding: 1.5rem;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .modal-specs {
                grid-template-columns: 1fr;
            }

            .tasting-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        footer {
            background: var(--color-surface);
            border-top: 2px solid var(--color-accent);
            padding: 3rem 2rem 2rem;
            text-align: center;
            margin-top: 5rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
            text-align: left;
        }

        .footer-section h4 {
            color: var(--color-accent);
            margin-bottom: 1rem;
        }

        .footer-section p, .footer-section a {
            color: var(--color-text-muted);
            text-decoration: none;
            line-height: 1.8;
            font-size: 0.9rem;
        }

        .footer-section a:hover {
            color: var(--color-accent);
        }

        .copyright {
            padding-top: 2rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
            color: var(--color-text-muted);
            opacity: 0.7;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            nav ul {
                display: none;
            }

            .hero h2 {
                font-size: 2.5rem;
            }

            .chatbot-container {
                width: 90%;
                right: 5%;
                left: 5%;
                height: 70vh;
            }

            .products {
                grid-template-columns: 1fr;
            }

            .kurabatler-intro {
                flex-direction: column;
                text-align: center;
                padding: 1.5rem;
                gap: 1.5rem;
            }

            .kurabatler-image {
                width: 100px;
                height: 100px;
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-mark">å¤©</div>
                <div class="logo-text">
                    <h1>å¤©é ˜é…’é€ </h1>
                    <p>å‰µæ¥­1680å¹´ é£›é¨¨ã®åœ°é…’</p>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#about">é…’é€ ã«ã¤ã„ã¦</a></li>
                    <li><a href="#products">éŠ˜æŸ„ä¸€è¦§</a></li>
                    <li><a href="#history">æ­´å²ã¨ä¼çµ±</a></li>
                    <li><a href="#contact">ãŠå•ã„åˆã‚ã›</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="hero">
        <div class="hero-content">
            <h2>é£›é¨¨ã®æµã¿ãŒé†¸ã™è‡³é«˜ã®ä¸€æ»´</h2>
            <p class="subtitle">340å¹´ä»¥ä¸Šã®æ­´å²ã‚’æŒã¤å¤©é ˜é…’é€ <br>é£›é¨¨å±±è„ˆã®ä¼æµæ°´ã¨100%é…’é€ å¥½é©ç±³ã§é†¸ã™æ¥µä¸Šã®æ—¥æœ¬é…’</p>
            
            <div class="hero-features">
                <div class="feature-card">
                    <h3>ğŸ”ï¸ é£›é¨¨ã®å¤©ç„¶æ°´</h3>
                    <p>åœ°ä¸‹30mã‹ã‚‰æ±²ã¿ä¸Šã’ã‚‹é£›é¨¨å±±è„ˆã®è¶…è»Ÿæ°´ã‚’ä½¿ç”¨</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸŒ¾ 100%é…’é€ å¥½é©ç±³</h3>
                    <p>å…¨å•†å“ã«é…’é€ å¥½é©ç±³ã‚’100%ä½¿ç”¨ã€‚çœŒå†…ä½¿ç”¨ç‡No.1</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ† æ•°ã€…ã®å—è³æ­´</h3>
                    <p>å…¨å›½æ–°é…’é‘‘è©•ä¼šã§å¤šæ•°å—è³ã€‚JALå›½éš›ç·šæ¡ç”¨å®Ÿç¸¾</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸŒ ä¼çµ±ã®æŠ€</h3>
                    <p>8ä»£ç›®å½“ä¸»ãŒå®ˆã‚‹340å¹´ã®ä¼çµ±ã¨é©æ–°ã®èåˆ</p>
                </div>
            </div>
            
            <div class="kurabatler-intro">
                <img src="ã‚¯ãƒ©ãƒãƒˆãƒ©ãƒ¼ã‚­ãƒ£ãƒ©.png" alt="ã‚¯ãƒ©ãƒãƒˆãƒ©ãƒ¼" class="kurabatler-image">
                <div class="kurabatler-text">
                    <h3>ã‚¯ãƒ©ãƒãƒˆãƒ©ãƒ¼ãŒã”æ¡ˆå†…</h3>
                    <p>AIé…’è”µã‚¬ã‚¤ãƒ‰ã€Œã‚¯ãƒ©ãƒãƒˆãƒ©ãƒ¼ã€ãŒã€å¤©é ˜é…’é€ ã®æ­´å²ã¨é­…åŠ›ã‚’ã”æ¡ˆå†…ã„ãŸã—ã¾ã™ã€‚æ—¥æœ¬é…’ã«ã¤ã„ã¦ãŠæ°—è»½ã«ãŠå°‹ã­ãã ã•ã„ã€‚</p>
                </div>
            </div>
        </div>
    </section>

    <!-- æ­´å²ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="history" class="history">
        <h2 class="section-title">å¤©é ˜é…’é€ ã®æ­´å²</h2>
        <div class="timeline">
            <div class="timeline-item">
                <h3>1680å¹´ï¼ˆå»¶å®8å¹´ï¼‰</h3>
                <p>è¿‘æ±Ÿå›½æ—¥é‡ã‹ã‚‰é£›é¨¨å›½ã«ç§»ã‚Šä½ã‚“ã æ—¥é‡å±‹ä½å…µè¡›ãŒå‰µæ¥­ã€‚é£›é¨¨ã®äººæƒ…ã¨è‡ªç„¶ã«é­…äº†ã•ã‚Œã€è©åŸã®åœ°ã«é…’é€ ã‚Šã‚’å§‹ã‚ã‚‹ã€‚</p>
            </div>
            <div class="timeline-item">
                <h3>1956å¹´ï¼ˆæ˜­å’Œ31å¹´ï¼‰</h3>
                <p>å¤©é ˜é…’é€ æ ªå¼ä¼šç¤¾ã¨ã—ã¦æ³•äººåŒ–ã€‚ä¼çµ±ã‚’å®ˆã‚ŠãªãŒã‚‰è¿‘ä»£åŒ–ã¸ã®ä¸€æ­©ã‚’è¸ã¿å‡ºã™ã€‚</p>
            </div>
            <div class="timeline-item">
                <h3>2005å¹´ã€œ2009å¹´</h3>
                <p>JALå›½éš›ç·šãƒ“ã‚¸ãƒã‚¹ã‚¯ãƒ©ã‚¹ã§ã€Œç´”ç±³å¤§åŸé†¸å¤©é ˜ã€ãŒæ¡ç”¨ã€‚ä¸–ç•Œã®ç©ºã§æ—¥æœ¬ã®å‘³ã‚’å±Šã‘ã‚‹ã€‚</p>
            </div>
            <div class="timeline-item">
                <h3>2010å¹´ã€œ2011å¹´</h3>
                <p>ãƒ‘ãƒªå›½éš›èˆªç©ºã‚·ãƒ§ãƒ¼ã€ãƒ•ã‚¡ãƒ¼ãƒ³ãƒœãƒ­ãƒ¼å›½éš›èˆªç©ºã‚·ãƒ§ãƒ¼ã§VIPå‘ã‘è´ˆç­”å“ã«é¸å®šã€‚</p>
            </div>
            <div class="timeline-item">
                <h3>ç¾åœ¨</h3>
                <p>8ä»£ç›®å½“ä¸»ã®ã‚‚ã¨ã€100%é…’é€ å¥½é©ç±³ä½¿ç”¨ã¨è‡ªç¤¾ç²¾ç±³ã«ã“ã ã‚ã‚Šã€æœ€é«˜å“è³ªã®æ—¥æœ¬é…’ã‚’é†¸é€ ã€‚</p>
            </div>
        </div>
    </section>

    <!-- éŠ˜æŸ„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="products">
        <h2 class="section-title">ä»£è¡¨éŠ˜æŸ„</h2>
        <div class="products">
            <div class="product-card" data-product="junmai-daiginjo" onclick="openProductModal('junmai-daiginjo')">
                <div class="product-image">ğŸ¶</div>
                <div class="product-info">
                    <h3>ç´”ç±³å¤§åŸé†¸ ã²ã ã»ã¾ã‚Œå¤©é ˜</h3>
                    <p class="category">JUNMAI DAIGINJO</p>
                    <p>å²é˜œçœŒç”£ã€Œã²ã ã»ã¾ã‚Œã€ã‚’45%ã¾ã§ç£¨ãä¸Šã’ãŸæœ€é«˜å³°ã€‚è¯ã‚„ã‹ãªé¦™ã‚Šã¨ã¾ã‚ã‚„ã‹ãªå‘³ã‚ã„ãŒç‰¹å¾´ã€‚</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <span class="spec-label">ç²¾ç±³æ­©åˆ</span>
                            <span class="spec-value">45%</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦</span>
                            <span class="spec-value">15åº¦</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ä½¿ç”¨ç±³</span>
                            <span class="spec-value">ã²ã ã»ã¾ã‚Œ</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="product-card" data-product="daiginjo" onclick="openProductModal('daiginjo')">
                <div class="product-image">ğŸ†</div>
                <div class="product-info">
                    <h3>å¤§åŸé†¸ åŸ</h3>
                    <p class="category">DAIGINJO</p>
                    <p>å±±ç”°éŒ¦ã‚’è´…æ²¢ã«ä½¿ç”¨ã—ãŸå¤§åŸé†¸ã€‚ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãªåŸé†¸é¦™ã¨ç¹Šç´°ãªå‘³ã‚ã„ã®ãƒãƒ©ãƒ³ã‚¹ãŒçµ¶å¦™ã€‚</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <span class="spec-label">ç²¾ç±³æ­©åˆ</span>
                            <span class="spec-value">40%</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦</span>
                            <span class="spec-value">16åº¦</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ä½¿ç”¨ç±³</span>
                            <span class="spec-value">å±±ç”°éŒ¦</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="product-card" data-product="tokubetsu-junmai" onclick="openProductModal('tokubetsu-junmai')">
                <div class="product-image">âœ¨</div>
                <div class="product-info">
                    <h3>ç‰¹åˆ¥ç´”ç±³é…’ é£›åˆ‡ã‚Š</h3>
                    <p class="category">TOKUBETSU JUNMAI</p>
                    <p>é£Ÿä¸­é…’ã¨ã—ã¦æœ€é©ãªç´”ç±³é…’ã€‚ã™ã£ãã‚Šã¨ã—ãŸé£²ã¿å£ã§ã€ã©ã‚“ãªæ–™ç†ã«ã‚‚åˆã†ä¸‡èƒ½é¸æ‰‹ã€‚</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <span class="spec-label">ç²¾ç±³æ­©åˆ</span>
                            <span class="spec-value">60%</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦</span>
                            <span class="spec-value">15åº¦</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">å‘³ã‚ã„</span>
                            <span class="spec-value">ä¸­å£</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="product-card" data-product="junmai-ginjo" onclick="openProductModal('junmai-ginjo')">
                <div class="product-image">ğŸŒ¸</div>
                <div class="product-info">
                    <h3>ç´”ç±³åŸé†¸ ã²ã ã»ã¾ã‚Œ</h3>
                    <p class="category">JUNMAI GINJO</p>
                    <p>åœ°å…ƒç”£ã²ã ã»ã¾ã‚Œã‚’55%ç²¾ç±³ã€‚ç©ã‚„ã‹ãªé¦™ã‚Šã¨ãŠç±³ã®æ—¨ã¿ãŒèª¿å’Œã—ãŸé€¸å“ã€‚</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <span class="spec-label">ç²¾ç±³æ­©åˆ</span>
                            <span class="spec-value">55%</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦</span>
                            <span class="spec-value">15åº¦</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ä½¿ç”¨ç±³</span>
                            <span class="spec-value">ã²ã ã»ã¾ã‚Œ</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="product-card" data-product="junmai" onclick="openProductModal('junmai')">
                <div class="product-image">ğŸ”ï¸</div>
                <div class="product-info">
                    <h3>ç´”ç±³é…’ å¤©é ˜</h3>
                    <p class="category">JUNMAI-SHU</p>
                    <p>å¤©é ˜é…’é€ ã®å®šç•ªç´”ç±³é…’ã€‚ç±³ã®æ—¨ã¿ã‚’ã—ã£ã‹ã‚Šã¨æ„Ÿã˜ã‚‰ã‚Œã‚‹ã€é£½ãã®æ¥ãªã„å‘³ã‚ã„ã€‚</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <span class="spec-label">ç²¾ç±³æ­©åˆ</span>
                            <span class="spec-value">65%</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦</span>
                            <span class="spec-value">15åº¦</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">å‘³ã‚ã„</span>
                            <span class="spec-value">ã‚„ã‚„è¾›å£</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="product-card" data-product="seasonal" onclick="openProductModal('seasonal')">
                <div class="product-image">â„ï¸</div>
                <div class="product-info">
                    <h3>å››å­£ã®é…’ ç´”ç±³å¤§åŸé†¸</h3>
                    <p class="category">SEASONAL LIMITED</p>
                    <p>å­£ç¯€é™å®šã®ç´”ç±³å¤§åŸé†¸ã€‚ä½æ¸©è²¯è”µã§ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªå‘³ã‚ã„ã‚’ä¿ã¤ã€ç‰¹åˆ¥ãªä¸€æœ¬ã€‚</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <span class="spec-label">ç²¾ç±³æ­©åˆ</span>
                            <span class="spec-value">50%</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦</span>
                            <span class="spec-value">15åº¦</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">ä¿å­˜æ–¹æ³•</span>
                            <span class="spec-value">è¦å†·è”µ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer id="contact">
        <div class="footer-content">
            <div class="footer-info">
                <div class="footer-section">
                    <h4>å¤©é ˜é…’é€ æ ªå¼ä¼šç¤¾</h4>
                    <p>ã€’509-2517<br>
                    å²é˜œçœŒä¸‹å‘‚å¸‚è©åŸç”ºè©åŸ1289-1<br>
                    TEL: 0576-52-1515<br>
                    FAX: 0576-52-3636</p>
                </div>
                <div class="footer-section">
                    <h4>å–¶æ¥­æ™‚é–“</h4>
                    <p>å¹³æ—¥: 8:30 - 17:00<br>
                    åœŸæ›œ: 8:30 - 12:00<br>
                    æ—¥ç¥: å®šä¼‘æ—¥<br>
                    â€»é…’è”µè¦‹å­¦ã¯è¦äºˆç´„</p>
                </div>
                <div class="footer-section">
                    <h4>ãƒªãƒ³ã‚¯</h4>
                    <p><a href="#">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ—</a><br>
                    <a href="#">é…’è”µè¦‹å­¦äºˆç´„</a><br>
                    <a href="#">å–æ‰±åº—èˆ—ä¸€è¦§</a><br>
                    <a href="#">ãŠå•ã„åˆã‚ã›</a></p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 å¤©é ˜é…’é€ æ ªå¼ä¼šç¤¾ All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- GPT APIã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
    <div class="api-status-button" id="apiStatusButton" onclick="checkApiStatus()">
        <div class="status-indicator" id="statusIndicator"></div>
        <span class="status-text" id="statusText">API</span>
    </div>

    <!-- ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ -->
    <div class="chatbot-button" onclick="toggleChatbot()">
        <svg viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
        </svg>
    </div>

    <div class="chatbot-container" id="chatbot">
        <div class="chatbot-header">
            <h3>
                <span>ğŸ¶</span>
                å¤©é ˜é…’é€ AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
            </h3>
            <button class="chatbot-close" onclick="toggleChatbot()">Ã—</button>
        </div>
        
        <div class="chatbot-messages" id="chatMessages">
            <div class="message bot">
                ã“ã‚“ã«ã¡ã¯ï¼å¤©é ˜é…’é€ ã¸ã‚ˆã†ã“ãã€‚<br>
                340å¹´ã®æ­´å²ã‚’æŒã¤å½“è”µã«ã¤ã„ã¦ã€ä½•ã§ã‚‚ãŠå°‹ã­ãã ã•ã„ã€‚<br><br>
                éŠ˜æŸ„ã®ã”ç›¸è«‡ã€é…’è”µè¦‹å­¦ã€æ­´å²ã«ã¤ã„ã¦ç­‰ã€ãŠæ°—è»½ã«ã©ã†ãï¼
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <span class="typing-dot"></span>
            <span class="typing-dot"></span>
            <span class="typing-dot"></span>
        </div>
        
        <div class="quick-replies">
            <button class="quick-reply" onclick="sendQuickReply('ãŠã™ã™ã‚ã®éŠ˜æŸ„ã¯ï¼Ÿ')">ãŠã™ã™ã‚ã®éŠ˜æŸ„</button>
            <button class="quick-reply" onclick="sendQuickReply('ç´”ç±³å¤§åŸé†¸ã«ã¤ã„ã¦')">ç´”ç±³å¤§åŸé†¸</button>
            <button class="quick-reply" onclick="sendQuickReply('é…’è”µè¦‹å­¦ã«ã¤ã„ã¦')">é…’è”µè¦‹å­¦</button>
            <button class="quick-reply" onclick="sendQuickReply('æ­´å²ã‚’æ•™ãˆã¦')">æ­´å²</button>
        </div>
        
        <div class="chatbot-input">
            <input type="text" id="chatInput" placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›..." onkeypress="handleKeyPress(event)">
            <div class="input-buttons">
                <button class="voice-btn" id="voiceBtn" onclick="toggleVoiceInput()">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"/>
                    </svg>
                </button>
                <button class="send-btn" onclick="sendMessage()">
                    <svg viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- å•†å“è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="product-modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeProductModal()">Ã—</button>
                <h2 class="modal-title" id="modalTitle"></h2>
                <p class="modal-category" id="modalCategory"></p>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h4>ğŸ¶ å•†å“æ¦‚è¦</h4>
                    <p class="modal-description" id="modalDescription"></p>
                    <div id="modalAwards"></div>
                </div>
                
                <div class="modal-section">
                    <h4>ğŸ“Š è©³ç´°ã‚¹ãƒšãƒƒã‚¯</h4>
                    <div class="modal-specs" id="modalSpecs"></div>
                </div>
                
                <div class="modal-section">
                    <h4>ğŸ¯ ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒãƒ¼ãƒˆ</h4>
                    <div class="modal-tasting-notes">
                        <h5>å‘³ã‚ã„ã®ç‰¹å¾´</h5>
                        <div class="tasting-grid" id="tastingGrid"></div>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>ğŸ½ï¸ ãŠã™ã™ã‚ãƒšã‚¢ãƒªãƒ³ã‚°</h4>
                    <p id="modalPairing"></p>
                </div>
                
                <div class="modal-section">
                    <h4>ğŸŒ¡ï¸ æœ€é©æ¸©åº¦</h4>
                    <p id="modalTemperature"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- GPT APIé€£æºç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ  -->
    <script src="chatbot-client.js"></script>
    
    <script>
        // ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆåˆæœŸåŒ–ï¼ˆGPT APIå¯¾å¿œï¼‰
        let chatbot = null;
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // GPT APIè¨­å®šï¼ˆç’°å¢ƒã«å¿œã˜ã¦å¤‰æ›´ï¼‰
            chatbot = new TenryoChatbot({
                apiEndpoint: '/.netlify/functions/chat', // Netlify Functions endpoint
                useGPT: true, // GPT APIã‚’ä½¿ç”¨ï¼ˆfalseã«ã™ã‚‹ã¨ãƒ­ãƒ¼ã‚«ãƒ«å¿œç­”ã®ã¿ï¼‰
                fallbackToLocal: true // APIå¤±æ•—æ™‚ã¯ãƒ­ãƒ¼ã‚«ãƒ«å¿œç­”ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
            });
            
            // APIã®çŠ¶æ…‹ã‚’ç¢ºèªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
            checkApiStatus();
        });
        
        // APIçŠ¶æ…‹ç¢ºèªï¼ˆãƒœã‚¿ãƒ³ä»˜ãï¼‰
        async function checkApiStatus() {
            const button = document.getElementById('apiStatusButton');
            const indicator = document.getElementById('statusIndicator');
            const text = document.getElementById('statusText');
            
            // ãƒã‚§ãƒƒã‚¯ä¸­çŠ¶æ…‹
            button.className = 'api-status-button checking';
            text.textContent = 'ãƒã‚§ãƒƒã‚¯ä¸­';
            
            try {
                const response = await fetch('/.netlify/functions/health');
                const data = await response.json();
                
                if (response.ok && data.status === 'ok' && data.openai_configured) {
                    // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³çŠ¶æ…‹
                    button.className = 'api-status-button online';
                    text.textContent = 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³';
                    console.log('âœ… GPT API ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã•ã‚Œã¦ã„ã¾ã™');
                    if (chatbot) chatbot.useGPT = true;
                } else {
                    // APIã‚­ãƒ¼æœªè¨­å®šã¾ãŸã¯ã‚¨ãƒ©ãƒ¼
                    button.className = 'api-status-button offline';
                    text.textContent = 'ã‚ªãƒ•ãƒ©ã‚¤ãƒ³';
                    console.log('âš ï¸ OpenAI APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“');
                    if (chatbot) chatbot.useGPT = false;
                }
            } catch (error) {
                // æ¥ç¶šã‚¨ãƒ©ãƒ¼
                button.className = 'api-status-button offline';
                text.textContent = 'ã‚ªãƒ•ãƒ©ã‚¤ãƒ³';
                console.log('âš ï¸ GPT APIã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“:', error);
                if (chatbot) chatbot.useGPT = false;
            }
        }

        // å•†å“è©³ç´°ãƒ‡ãƒ¼ã‚¿
        const productDetails = {
            'junmai-daiginjo': {
                title: 'ç´”ç±³å¤§åŸé†¸ ã²ã ã»ã¾ã‚Œå¤©é ˜',
                category: 'JUNMAI DAIGINJO',
                description: 'å²é˜œçœŒç”£ã€Œã²ã ã»ã¾ã‚Œã€ã‚’45%ã¾ã§ç£¨ãä¸Šã’ãŸå¤©é ˜é…’é€ ã®æœ€é«˜å³°ã€‚è¯ã‚„ã‹ã§ä¸Šå“ãªåŸé†¸é¦™ã¨ã€çµ¹ã®ã‚ˆã†ã«ã¾ã‚ã‚„ã‹ãªå‘³ã‚ã„ãŒç‰¹å¾´ã§ã™ã€‚å£ã«å«ã‚€ã¨åºƒãŒã‚‹æœå®Ÿæ§˜ã®é¦™ã‚Šã¨ã€å¾Œå‘³ã®æ¸…ã€…ã—ã•ãŒçµ¶å¦™ãªãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã£ã¦ã„ã¾ã™ã€‚',
                awards: ['JALå›½éš›ç·šãƒ“ã‚¸ãƒã‚¹ã‚¯ãƒ©ã‚¹æ¡ç”¨ï¼ˆ2005-2009å¹´ï¼‰', 'å…¨å›½æ–°é…’é‘‘è©•ä¼š å„ªç§€è³å—è³'],
                specs: {
                    'ç²¾ç±³æ­©åˆ': '45%',
                    'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°': '15åº¦',
                    'æ—¥æœ¬é…’åº¦': '+3',
                    'é…¸åº¦': '1.3',
                    'ä½¿ç”¨ç±³': 'ã²ã ã»ã¾ã‚Œï¼ˆå²é˜œçœŒç”£ï¼‰',
                    'ä½¿ç”¨é…µæ¯': '9å·é…µæ¯',
                    'è£½é€ æ–¹æ³•': 'è¢‹åŠã‚Šãƒ»æ–—ç“¶å–ã‚Š'
                },
                tasting: {
                    'é¦™ã‚Š': 'ãƒ¡ãƒ­ãƒ³ã€ç™½æ¡ƒ',
                    'å‘³ã‚ã„': 'ã‚„ã‚„è¾›å£',
                    'ãƒœãƒ‡ã‚£': 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',
                    'ä½™éŸ»': 'é•·ã„'
                },
                pairing: 'ç™½èº«é­šã®åˆºèº«ã€è’¸ã—é®‘ã€æ¹¯æ³¢æ–™ç†ã€å¡©ç„¼ãé®ã€è–„å‘³ã®ç…®ç‰©ã€‚ç¹Šç´°ãªå‘³ã‚ã„ã®å’Œé£Ÿå…¨èˆ¬ã«æœ€é©ã§ã™ã€‚',
                temperature: 'å†·ã‚„ã—ã¦ï¼ˆ8-12â„ƒï¼‰ãŒãŠã™ã™ã‚ã€‚è¯ã‚„ã‹ãªé¦™ã‚Šã¨ä¸Šå“ãªå‘³ã‚ã„ã‚’æœ€ã‚‚æ¥½ã—ã‚ã‚‹æ¸©åº¦å¸¯ã§ã™ã€‚'
            },
            'daiginjo': {
                title: 'å¤§åŸé†¸ åŸ',
                category: 'DAIGINJO',
                description: 'é…’ç±³ã®ç‹æ§˜ã€Œå±±ç”°éŒ¦ã€ã‚’40%ã¾ã§ç£¨ã„ãŸè´…æ²¢ãªå¤§åŸé†¸ã€‚ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãªåŸé†¸é¦™ã¨ç¹Šç´°ã§ä¸Šå“ãªå‘³ã‚ã„ã®ãƒãƒ©ãƒ³ã‚¹ãŒçµ¶å¦™ã§ã™ã€‚ä½æ¸©ã§ã˜ã£ãã‚Šã¨ç™ºé…µã•ã›ã‚‹ã“ã¨ã§ç”Ÿã¾ã‚Œã‚‹ã€é€æ˜æ„Ÿã®ã‚ã‚‹ç¾ã—ã„é…’è³ªãŒè‡ªæ…¢ã§ã™ã€‚',
                awards: ['JALå›½å†…ç·šãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹æ¡ç”¨ï¼ˆ2011-2012å¹´ï¼‰', 'ãƒ•ã‚¡ãƒ¼ãƒ³ãƒœãƒ­ãƒ¼å›½éš›èˆªç©ºã‚·ãƒ§ãƒ¼ VIPè´ˆç­”å“'],
                specs: {
                    'ç²¾ç±³æ­©åˆ': '40%',
                    'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°': '16åº¦',
                    'æ—¥æœ¬é…’åº¦': '+4',
                    'é…¸åº¦': '1.2',
                    'ä½¿ç”¨ç±³': 'å±±ç”°éŒ¦ï¼ˆç‰¹Aåœ°åŒºï¼‰',
                    'ä½¿ç”¨é…µæ¯': 'å”ä¼š1801å·',
                    'è£½é€ æ–¹æ³•': 'è¢‹åŠã‚Š'
                },
                tasting: {
                    'é¦™ã‚Š': 'ãƒªãƒ³ã‚´ã€æ´‹æ¢¨',
                    'å‘³ã‚ã„': 'è¾›å£',
                    'ãƒœãƒ‡ã‚£': 'ãƒ©ã‚¤ãƒˆ',
                    'ä½™éŸ»': 'ä¸Šå“ã§é•·ã„'
                },
                pairing: 'ãµãåˆºã—ã€è»Šæµ·è€ã€é›²ä¸¹ã€ç©´å­ã®ç™½ç„¼ãã€‚é«˜ç´šé£Ÿæã¨ã®çµ„ã¿åˆã‚ã›ã§çœŸä¾¡ã‚’ç™ºæ®ã—ã¾ã™ã€‚',
                temperature: 'å†·ã‚„ã—ã¦ï¼ˆ6-10â„ƒï¼‰ã€‚ç¹Šç´°ãªé¦™ã‚Šã¨å‘³ã‚ã„ã‚’æãªã‚ãªã„ä½æ¸©ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚'
            },
            'tokubetsu-junmai': {
                title: 'ç‰¹åˆ¥ç´”ç±³é…’ é£›åˆ‡ã‚Š',
                category: 'TOKUBETSU JUNMAI',
                description: 'é£Ÿä¸­é…’ã¨ã—ã¦æœ€é©ãªç´”ç±³é…’ã€‚60%ç²¾ç±³ã«ã‚ˆã‚‹ç±³ã®æ—¨ã¿ã¨ã™ã£ãã‚Šã¨ã—ãŸé£²ã¿å£ã®ãƒãƒ©ãƒ³ã‚¹ãŒçµ¶å¦™ã§ã€ã©ã‚“ãªæ–™ç†ã«ã‚‚å¯„ã‚Šæ·»ã†ä¸‡èƒ½é¸æ‰‹ã§ã™ã€‚æ¯æ—¥ã®é£Ÿå“ã‚’è±Šã‹ã«å½©ã‚‹ã€é£½ãã®æ¥ãªã„å‘³ã‚ã„ãŒé­…åŠ›ã§ã™ã€‚',
                awards: ['åœ°å…ƒé£²é£Ÿåº—ã§ã®å®šç•ªé…’', 'é£Ÿä¸­é…’ã‚³ãƒ³ãƒ†ã‚¹ãƒˆå…¥è³'],
                specs: {
                    'ç²¾ç±³æ­©åˆ': '60%',
                    'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°': '15åº¦',
                    'æ—¥æœ¬é…’åº¦': '+2',
                    'é…¸åº¦': '1.5',
                    'ä½¿ç”¨ç±³': 'ã²ã ã»ã¾ã‚Œ',
                    'ä½¿ç”¨é…µæ¯': '9å·é…µæ¯',
                    'è£½é€ æ–¹æ³•': 'ã‚‚ã‚ã¿æ¿¾é'
                },
                tasting: {
                    'é¦™ã‚Š': 'ç©ã‚„ã‹ã€ç±³æ§˜',
                    'å‘³ã‚ã„': 'ä¸­å£',
                    'ãƒœãƒ‡ã‚£': 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',
                    'ä½™éŸ»': 'ç¨‹ã‚ˆã„'
                },
                pairing: 'ç„¼ãé³¥ã€ç…®ç‰©ã€å¤©ã·ã‚‰ã€é‹æ–™ç†ã€ç„¼ãé­šã€‚å¹…åºƒã„å’Œé£Ÿã«åˆã†ä¸‡èƒ½é…’ã§ã™ã€‚',
                temperature: 'å†·ã‚„ã‹ã‚‰ç‡—ã¾ã§ï¼ˆ10-45â„ƒï¼‰ã€‚æ¸©åº¦å¸¯ã«ã‚ˆã‚Šç•°ãªã‚‹è¡¨æƒ…ã‚’æ¥½ã—ã‚ã¾ã™ã€‚'
            },
            'junmai-ginjo': {
                title: 'ç´”ç±³åŸé†¸ ã²ã ã»ã¾ã‚Œ',
                category: 'JUNMAI GINJO',
                description: 'åœ°å…ƒç”£ã²ã ã»ã¾ã‚Œã‚’55%ç²¾ç±³ã—ãŸç´”ç±³åŸé†¸ã€‚ç©ã‚„ã‹ãªåŸé†¸é¦™ã¨ãŠç±³æœ¬æ¥ã®æ—¨ã¿ãŒèª¿å’Œã—ãŸé€¸å“ã§ã™ã€‚é£›é¨¨ã®é¢¨åœŸãŒè‚²ã‚“ã ç±³ã®å€‹æ€§ã‚’ã€ä¸å¯§ãªé†¸é€ æŠ€è¡“ã§å¼•ãå‡ºã—ã¦ã„ã¾ã™ã€‚',
                awards: ['å²é˜œçœŒé…’é€ çµ„åˆæ¨å¥¨é…’', 'åœ°åŸŸãƒ–ãƒ©ãƒ³ãƒ‰èªå®š'],
                specs: {
                    'ç²¾ç±³æ­©åˆ': '55%',
                    'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°': '15åº¦',
                    'æ—¥æœ¬é…’åº¦': '+1',
                    'é…¸åº¦': '1.4',
                    'ä½¿ç”¨ç±³': 'ã²ã ã»ã¾ã‚Œï¼ˆå²é˜œçœŒç”£ï¼‰',
                    'ä½¿ç”¨é…µæ¯': 'å²é˜œé…µæ¯',
                    'è£½é€ æ–¹æ³•': 'ä½æ¸©ç™ºé…µ'
                },
                tasting: {
                    'é¦™ã‚Š': 'ä¸Šå“ã€èŠ±æ§˜',
                    'å‘³ã‚ã„': 'ã‚„ã‚„ç”˜å£',
                    'ãƒœãƒ‡ã‚£': 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',
                    'ä½™éŸ»': 'å„ªã—ã„'
                },
                pairing: 'å±±èœæ–™ç†ã€å·é­šã®å¡©ç„¼ãã€é£›é¨¨ç‰›ã€åœ°é¶æ–™ç†ã€‚é£›é¨¨ã®éƒ·åœŸæ–™ç†ã¨ã®ç›¸æ€§ã¯æŠœç¾¤ã§ã™ã€‚',
                temperature: 'å†·ã‚„ã¾ãŸã¯ã¬ã‚‹ç‡—ï¼ˆ12-40â„ƒï¼‰ã€‚ã©ã¡ã‚‰ã®æ¸©åº¦ã§ã‚‚ç¾å‘³ã—ãæ¥½ã—ã‚ã¾ã™ã€‚'
            },
            'junmai': {
                title: 'ç´”ç±³é…’ å¤©é ˜',
                category: 'JUNMAI-SHU',
                description: 'å¤©é ˜é…’é€ ã®å®šç•ªç´”ç±³é…’ã€‚65%ç²¾ç±³ã«ã‚ˆã‚‹ç±³ã®æ—¨ã¿ã‚’ã—ã£ã‹ã‚Šã¨æ„Ÿã˜ã‚‰ã‚Œã‚‹ã€é£½ãã®æ¥ãªã„å‘³ã‚ã„ã€‚340å¹´ã®ä¼çµ±ãŒç”Ÿã¿å‡ºã™ã€æ¯æ—¥ã®æ™©é…Œã«æœ€é©ãªä¸€æœ¬ã§ã™ã€‚åœ°å…ƒã§æœ€ã‚‚æ„›ã•ã‚Œç¶šã‘ã¦ã„ã‚‹éŠ˜æŸ„ã§ã™ã€‚',
                awards: ['340å¹´ã®ä¼çµ±ã‚’èª‡ã‚‹å®šç•ªé…’', 'åœ°å…ƒæ„›é£²è€…No.1'],
                specs: {
                    'ç²¾ç±³æ­©åˆ': '65%',
                    'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°': '15åº¦',
                    'æ—¥æœ¬é…’åº¦': '+3',
                    'é…¸åº¦': '1.6',
                    'ä½¿ç”¨ç±³': 'ã²ã ã»ã¾ã‚Œ',
                    'ä½¿ç”¨é…µæ¯': '7å·é…µæ¯',
                    'è£½é€ æ–¹æ³•': 'å±±å»ƒä»•è¾¼ã¿'
                },
                tasting: {
                    'é¦™ã‚Š': 'ç±³æ§˜ã€ç©ã‚„ã‹',
                    'å‘³ã‚ã„': 'ã‚„ã‚„è¾›å£',
                    'ãƒœãƒ‡ã‚£': 'ãƒ•ãƒ«',
                    'ä½™éŸ»': 'ã—ã£ã‹ã‚Š'
                },
                pairing: 'ãŠã§ã‚“ã€è‚‰ã˜ã‚ƒãŒã€ã•ã°å‘³å™Œã€è±šã®è§’ç…®ã€‚å®¶åº­æ–™ç†å…¨èˆ¬ã«å¯„ã‚Šæ·»ã„ã¾ã™ã€‚',
                temperature: 'å¸¸æ¸©ã‹ã‚‰ç†±ç‡—ï¼ˆ15-50â„ƒï¼‰ã€‚ç‡—ã«ã™ã‚‹ã“ã¨ã§ç±³ã®æ—¨ã¿ãŒã‚ˆã‚Šéš›ç«‹ã¡ã¾ã™ã€‚'
            },
            'seasonal': {
                title: 'å››å­£ã®é…’ ç´”ç±³å¤§åŸé†¸',
                category: 'SEASONAL LIMITED',
                description: 'å­£ç¯€é™å®šã®ç‰¹åˆ¥ãªç´”ç±³å¤§åŸé†¸ã€‚50%ç²¾ç±³ã«ã‚ˆã‚‹ä¸Šå“ãªå‘³ã‚ã„ã¨ã€ä½æ¸©è²¯è”µã«ã‚ˆã‚Šä¿ãŸã‚Œã‚‹ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªé¢¨å‘³ãŒç‰¹å¾´ã§ã™ã€‚å››å­£ã®ç§»ã‚ã„ã¨ã¨ã‚‚ã«å‘³ã‚ã†ã€ç‰¹åˆ¥ãªæ™‚é–“ã‚’æ¼”å‡ºã—ã¾ã™ã€‚',
                awards: ['å­£ç¯€é™å®šå“', 'æ•°é‡é™å®šé†¸é€ '],
                specs: {
                    'ç²¾ç±³æ­©åˆ': '50%',
                    'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°': '15åº¦',
                    'æ—¥æœ¬é…’åº¦': '+2',
                    'é…¸åº¦': '1.3',
                    'ä½¿ç”¨ç±³': 'ã²ã ã»ã¾ã‚Œ',
                    'ä½¿ç”¨é…µæ¯': 'å­£ç¯€é…µæ¯',
                    'ä¿å­˜æ–¹æ³•': 'è¦å†·è”µï¼ˆ5â„ƒä»¥ä¸‹ï¼‰'
                },
                tasting: {
                    'é¦™ã‚Š': 'ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã€å­£ç¯€æ„Ÿ',
                    'å‘³ã‚ã„': 'ä¸­å£',
                    'ãƒœãƒ‡ã‚£': 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',
                    'ä½™éŸ»': 'å­£ç¯€ã®ä½™éŸ»'
                },
                pairing: 'å­£ç¯€ã®é£Ÿæã€æ—¬ã®æ–™ç†ã€‚æ˜¥ã¯å±±èœã€å¤ã¯é®ã€ç§‹ã¯æ¾èŒ¸ã€å†¬ã¯é‹æ–™ç†ã¨ã€‚',
                temperature: 'ã‚ˆãå†·ã‚„ã—ã¦ï¼ˆ5-8â„ƒï¼‰ã€‚ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ„Ÿã‚’æœ€å¤§é™ã«æ¥½ã—ã‚ã¾ã™ã€‚'
            }
        };

        // ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½
        function openProductModal(productId) {
            const product = productDetails[productId];
            if (!product) return;

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å†…å®¹ã‚’è¨­å®š
            document.getElementById('modalTitle').textContent = product.title;
            document.getElementById('modalCategory').textContent = product.category;
            document.getElementById('modalDescription').textContent = product.description;

            // å—è³æ­´
            const awardsDiv = document.getElementById('modalAwards');
            if (product.awards.length > 0) {
                awardsDiv.innerHTML = product.awards.map(award => 
                    `<span class="award-badge">${award}</span>`
                ).join('');
            } else {
                awardsDiv.innerHTML = '';
            }

            // ã‚¹ãƒšãƒƒã‚¯
            const specsDiv = document.getElementById('modalSpecs');
            specsDiv.innerHTML = Object.entries(product.specs).map(([label, value]) => 
                `<div class="modal-spec-item">
                    <div class="modal-spec-label">${label}</div>
                    <div class="modal-spec-value">${value}</div>
                </div>`
            ).join('');

            // ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒãƒ¼ãƒˆ
            const tastingDiv = document.getElementById('tastingGrid');
            tastingDiv.innerHTML = Object.entries(product.tasting).map(([label, value]) => 
                `<div class="tasting-item">
                    <div class="label">${label}</div>
                    <div class="value">${value}</div>
                </div>`
            ).join('');

            // ãƒšã‚¢ãƒªãƒ³ã‚°
            document.getElementById('modalPairing').textContent = product.pairing;

            // æœ€é©æ¸©åº¦
            document.getElementById('modalTemperature').textContent = product.temperature;

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
            document.getElementById('productModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeProductModal() {
            document.getElementById('productModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é–‰ã˜ã‚‹
        document.getElementById('productModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });

        // ESCã‚­ãƒ¼ã§é–‰ã˜ã‚‹
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeProductModal();
            }
        });

        // ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆçŸ¥è­˜ãƒ™ãƒ¼ã‚¹
        const knowledgeBase = {
            greeting: [
                "ã“ã‚“ã«ã¡ã¯", "hello", "ã¯ã˜ã‚ã¾ã—ã¦", "ã‚ˆã‚ã—ã"
            ],
            products: {
                "ç´”ç±³å¤§åŸé†¸": {
                    keywords: ["ç´”ç±³å¤§åŸé†¸", "ã˜ã‚…ã‚“ã¾ã„ã ã„ãã‚“ã˜ã‚‡ã†", "æœ€é«˜ç´š", "ã²ã ã»ã¾ã‚Œå¤©é ˜"],
                    response: "ç´”ç±³å¤§åŸé†¸ã€Œã²ã ã»ã¾ã‚Œå¤©é ˜ã€ã¯ã€å²é˜œçœŒç”£ã€Œã²ã ã»ã¾ã‚Œã€ã‚’45%ã¾ã§ç£¨ãä¸Šã’ãŸå½“è”µã®æœ€é«˜å³°ã§ã™ã€‚è¯ã‚„ã‹ãªé¦™ã‚Šã¨ã¾ã‚ã‚„ã‹ãªå‘³ã‚ã„ãŒç‰¹å¾´ã§ã€JALå›½éš›ç·šãƒ“ã‚¸ãƒã‚¹ã‚¯ãƒ©ã‚¹ã§ã‚‚æ¡ç”¨ã•ã‚Œã¾ã—ãŸã€‚ç‰¹åˆ¥ãªæ—¥ã®ä¸€æ¯ã«ãŠã™ã™ã‚ã§ã™ã€‚"
                },
                "å¤§åŸé†¸": {
                    keywords: ["å¤§åŸé†¸", "ã ã„ãã‚“ã˜ã‚‡ã†", "åŸ", "å±±ç”°éŒ¦"],
                    response: "å¤§åŸé†¸ã€ŒåŸã€ã¯ã€é…’ç±³ã®ç‹æ§˜ã€Œå±±ç”°éŒ¦ã€ã‚’40%ã¾ã§ç£¨ã„ãŸé€¸å“ã§ã™ã€‚ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãªåŸé†¸é¦™ã¨ç¹Šç´°ãªå‘³ã‚ã„ã®ãƒãƒ©ãƒ³ã‚¹ãŒçµ¶å¦™ã§ã€2011å¹´ã«ã¯JALå›½å†…ç·šãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«æ¡ç”¨ã•ã‚Œã¾ã—ãŸã€‚"
                },
                "ç‰¹åˆ¥ç´”ç±³": {
                    keywords: ["ç‰¹åˆ¥ç´”ç±³", "é£›åˆ‡ã‚Š", "ã¨ã³ãã‚Š", "é£Ÿä¸­é…’"],
                    response: "ç‰¹åˆ¥ç´”ç±³é…’ã€Œé£›åˆ‡ã‚Šã€ã¯ã€é£Ÿä¸­é…’ã¨ã—ã¦æœ€é©ãªç´”ç±³é…’ã§ã™ã€‚ç²¾ç±³æ­©åˆ60%ã§ã€ã™ã£ãã‚Šã¨ã—ãŸé£²ã¿å£ãŒç‰¹å¾´ã€‚å’Œé£Ÿã¯ã‚‚ã¡ã‚ã‚“ã€æ´‹é£Ÿã«ã‚‚åˆã†ä¸‡èƒ½ãªä¸€æœ¬ã§ã™ã€‚"
                },
                "ç´”ç±³åŸé†¸": {
                    keywords: ["ç´”ç±³åŸé†¸", "ã˜ã‚…ã‚“ã¾ã„ãã‚“ã˜ã‚‡ã†"],
                    response: "ç´”ç±³åŸé†¸ã€Œã²ã ã»ã¾ã‚Œã€ã¯ã€åœ°å…ƒç”£ã²ã ã»ã¾ã‚Œã‚’55%ç²¾ç±³ã—ãŸé€¸å“ã§ã™ã€‚ç©ã‚„ã‹ãªé¦™ã‚Šã¨ãŠç±³ã®æ—¨ã¿ãŒèª¿å’Œã—ã€å†·ã‚„ã§ã‚‚ç‡—ã§ã‚‚æ¥½ã—ã‚ã¾ã™ã€‚"
                },
                "ç´”ç±³é…’": {
                    keywords: ["ç´”ç±³é…’", "ã˜ã‚…ã‚“ã¾ã„ã—ã‚…", "å®šç•ª"],
                    response: "ç´”ç±³é…’ã€Œå¤©é ˜ã€ã¯å½“è”µã®å®šç•ªå•†å“ã§ã™ã€‚ç²¾ç±³æ­©åˆ65%ã§ã€ç±³ã®æ—¨ã¿ã‚’ã—ã£ã‹ã‚Šã¨æ„Ÿã˜ã‚‰ã‚Œã‚‹é£½ãã®æ¥ãªã„å‘³ã‚ã„ã€‚æ¯æ—¥ã®æ™©é…Œã«æœ€é©ã§ã™ã€‚"
                },
                "å­£ç¯€é™å®š": {
                    keywords: ["å­£ç¯€", "é™å®š", "å››å­£", "ã—ã"],
                    response: "ã€Œå››å­£ã®é…’ ç´”ç±³å¤§åŸé†¸ã€ã¯å­£ç¯€é™å®šã®ç‰¹åˆ¥ãªç´”ç±³å¤§åŸé†¸ã§ã™ã€‚ä½æ¸©è²¯è”µã§ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªå‘³ã‚ã„ã‚’ä¿ã¡ã€ãã®å­£ç¯€ã«ã—ã‹å‘³ã‚ãˆãªã„ç‰¹åˆ¥ãªä¸€æœ¬ã§ã™ã€‚"
                }
            },
            history: {
                keywords: ["æ­´å²", "å‰µæ¥­", "ã„ã¤ã‹ã‚‰", "ä¼çµ±"],
                response: "å¤©é ˜é…’é€ ã¯1680å¹´ï¼ˆå»¶å®8å¹´ï¼‰ã«å‰µæ¥­ã—ãŸã€340å¹´ä»¥ä¸Šã®æ­´å²ã‚’æŒã¤é…’è”µã§ã™ã€‚å‰µæ¥­è€…ã®æ—¥é‡å±‹ä½å…µè¡›ã¯ã€è¿‘æ±Ÿå›½ã‹ã‚‰é£›é¨¨ã«ç§»ã‚Šä½ã¿ã€ã“ã®åœ°ã®ç¾ã—ã„è‡ªç„¶ã¨æ¸©ã‹ã„äººæƒ…ã«é­…äº†ã•ã‚Œã¦é…’é€ ã‚Šã‚’å§‹ã‚ã¾ã—ãŸã€‚ç¾åœ¨ã¯8ä»£ç›®å½“ä¸»ãŒä¼çµ±ã‚’å®ˆã‚ŠãªãŒã‚‰ã€æœ€é«˜å“è³ªã®æ—¥æœ¬é…’ã‚’é†¸é€ ã—ã¦ã„ã¾ã™ã€‚"
            },
            location: {
                keywords: ["å ´æ‰€", "ã©ã“", "ã‚¢ã‚¯ã‚»ã‚¹", "ä½æ‰€", "ä¸‹å‘‚"],
                response: "å¤©é ˜é…’é€ ã¯å²é˜œçœŒä¸‹å‘‚å¸‚è©åŸç”ºè©åŸ1289-1ã«ã”ã–ã„ã¾ã™ã€‚ä¸‹å‘‚æ¸©æ³‰ã‹ã‚‰ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚„ã™ãã€é£›é¨¨ã®è±Šã‹ãªè‡ªç„¶ã«å›²ã¾ã‚ŒãŸå ´æ‰€ã§é…’é€ ã‚Šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚é…’è”µè¦‹å­¦ã‚‚å¯èƒ½ã§ã™ãŒã€äº‹å‰äºˆç´„ãŒå¿…è¦ã§ã™ã€‚"
            },
            water: {
                keywords: ["æ°´", "ã¿ãš", "ä¼æµæ°´", "è»Ÿæ°´"],
                response: "å½“è”µã§ã¯é£›é¨¨å±±è„ˆã®åœ°ä¸‹30ãƒ¡ãƒ¼ãƒˆãƒ«ã‹ã‚‰æ±²ã¿ä¸Šã’ã‚‹å¤©ç„¶æ°´ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®æ°´ã¯è¶…è»Ÿæ°´ã§ã€æ—¥æœ¬é…’é€ ã‚Šã«æœ€é©ã§ã™ã€‚è»Ÿæ°´ä»•è¾¼ã¿ã«ã‚ˆã‚Šã€ã¾ã‚ã‚„ã‹ã§å„ªã—ã„å‘³ã‚ã„ã®æ—¥æœ¬é…’ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚"
            },
            rice: {
                keywords: ["ç±³", "ã“ã‚", "é…’ç±³", "ã²ã ã»ã¾ã‚Œ", "å±±ç”°éŒ¦"],
                response: "å¤©é ˜é…’é€ ã¯å…¨å•†å“ã«é…’é€ å¥½é©ç±³ã‚’100%ä½¿ç”¨ã—ã¦ãŠã‚Šã€çœŒå†…ä½¿ç”¨ç‡No.1ã‚’èª‡ã‚Šã¾ã™ã€‚åœ°å…ƒç”£ã€Œã²ã ã»ã¾ã‚Œã€ã‚„é…’ç±³ã®ç‹æ§˜ã€Œå±±ç”°éŒ¦ã€ã‚’ä½¿ç”¨ã—ã€è‡ªç¤¾ç²¾ç±³ã«ã‚ˆã‚Šå“è³ªã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚"
            },
            visit: {
                keywords: ["è¦‹å­¦", "ã‘ã‚“ãŒã", "ãƒ„ã‚¢ãƒ¼", "äºˆç´„"],
                response: "é…’è”µè¦‹å­¦ã¯äº‹å‰äºˆç´„åˆ¶ã§æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚å®Ÿéš›ã®é…’é€ ã‚Šã®å·¥ç¨‹ã‚’ã”è¦§ã„ãŸã ãã€è©¦é£²ã‚‚å¯èƒ½ã§ã™ã€‚è¦‹å­¦æ™‚é–“ã¯ç´„60åˆ†ã§ã€å–¶æ¥­æ™‚é–“ã¯å¹³æ—¥8:30-17:00ã€åœŸæ›œ8:30-12:00ã§ã™ã€‚ã”äºˆç´„ã¯ãŠé›»è©±ï¼ˆ0576-52-1515ï¼‰ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚"
            },
            recommendation: {
                keywords: ["ãŠã™ã™ã‚", "ã‚ªã‚¹ã‚¹ãƒ¡", "ã©ã‚Œ", "åˆå¿ƒè€…", "è´ˆã‚Šç‰©", "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ"],
                response: "åˆã‚ã¦ã®æ–¹ã«ã¯ã€Œç‰¹åˆ¥ç´”ç±³é…’ é£›åˆ‡ã‚Šã€ãŒãŠã™ã™ã‚ã§ã™ã€‚é£²ã¿ã‚„ã™ãã€ã©ã‚“ãªæ–™ç†ã«ã‚‚åˆã„ã¾ã™ã€‚è´ˆã‚Šç‰©ã«ã¯ã€Œç´”ç±³å¤§åŸé†¸ ã²ã ã»ã¾ã‚Œå¤©é ˜ã€ãŒäººæ°—ã§ã™ã€‚JALå›½éš›ç·šã§ã‚‚æ¡ç”¨ã•ã‚ŒãŸé€¸å“ã§ã€ç‰¹åˆ¥ãªæ–¹ã¸ã®è´ˆã‚Šç‰©ã«æœ€é©ã§ã™ã€‚"
            },
            pairing: {
                keywords: ["æ–™ç†", "ã¤ã¾ã¿", "ãƒšã‚¢ãƒªãƒ³ã‚°", "åˆã†"],
                response: "å¤©é ˜ã®æ—¥æœ¬é…’ã¯æ–™ç†ã¨ã®ç›¸æ€§ã‚‚æŠœç¾¤ã§ã™ã€‚ç´”ç±³å¤§åŸé†¸ã¯åˆºèº«ã‚„å¯¿å¸ãªã©ã®ç¹Šç´°ãªæ–™ç†ã«ã€ç‰¹åˆ¥ç´”ç±³é…’ã€Œé£›åˆ‡ã‚Šã€ã¯ç„¼ãé³¥ã‚„ç…®ç‰©ãªã©å¹…åºƒã„æ–™ç†ã«åˆã„ã¾ã™ã€‚ç´”ç±³é…’ã¯ç†±ç‡—ã«ã—ã¦ã€ãŠã§ã‚“ã‚„é‹æ–™ç†ã¨ä¸€ç·’ã«ã©ã†ãã€‚"
            },
            award: {
                keywords: ["è³", "å—è³", "JAL", "è©•ä¾¡"],
                response: "å¤©é ˜é…’é€ ã¯å…¨å›½æ–°é…’é‘‘è©•ä¼šã§1989å¹´ã‹ã‚‰2020å¹´ã¾ã§å¤šæ•°ã®å„ªç§€è³ã‚’å—è³ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€JALå›½éš›ç·šãƒ“ã‚¸ãƒã‚¹ã‚¯ãƒ©ã‚¹ï¼ˆ2005-2009å¹´ï¼‰ã€å›½å†…ç·šãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ï¼ˆ2011-2012å¹´ï¼‰ã«æ¡ç”¨ã•ã‚Œã€ãƒ‘ãƒªå›½éš›èˆªç©ºã‚·ãƒ§ãƒ¼ã§VIPå‘ã‘è´ˆç­”å“ã«ã‚‚é¸ã°ã‚Œã¾ã—ãŸã€‚"
            },
            temperature: {
                keywords: ["æ¸©åº¦", "å†·ã‚„", "ç‡—", "å¸¸æ¸©", "é£²ã¿æ–¹"],
                response: "éŠ˜æŸ„ã«ã‚ˆã‚Šæœ€é©ãªæ¸©åº¦ãŒã‚ã‚Šã¾ã™ã€‚ç´”ç±³å¤§åŸé†¸ã¯5-10â„ƒã®å†·ã‚„ãŒãŠã™ã™ã‚ã€‚ç´”ç±³åŸé†¸ã¯10-15â„ƒã¾ãŸã¯40-45â„ƒã®ã¬ã‚‹ç‡—ã§ã€‚ç´”ç±³é…’ã¯å¸¸æ¸©ã‹ã‚‰50â„ƒã®ç†±ç‡—ã¾ã§å¹…åºƒãæ¥½ã—ã‚ã¾ã™ã€‚"
            },
            buy: {
                keywords: ["è²·ã†", "è³¼å…¥", "é€šè²©", "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³", "ã©ã“ã§"],
                response: "å¤©é ˜é…’é€ ã®å•†å“ã¯ã€å…¬å¼ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆã‚¢ã€å…¨å›½ã®é…’è²©åº—ã€ç™¾è²¨åº—ã§ãŠæ±‚ã‚ã„ãŸã ã‘ã¾ã™ã€‚ã¾ãŸã€è”µå…ƒç›´å£²æ‰€ã§ã‚‚è²©å£²ã—ã¦ãŠã‚Šã¾ã™ã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆã‚¢ã§ã¯å…¨å›½é…é€ã‚‚æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚"
            }
        };

        // éŸ³å£°èªè­˜ã®è¨­å®š
        let recognition = null;
        let isRecording = false;

        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.lang = 'ja-JP';
            recognition.continuous = false;
            recognition.interimResults = false;

            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                document.getElementById('chatInput').value = transcript;
                sendMessage();
            };

            recognition.onerror = function(event) {
                console.error('éŸ³å£°èªè­˜ã‚¨ãƒ©ãƒ¼:', event.error);
                stopRecording();
            };

            recognition.onend = function() {
                stopRecording();
            };
        }

        // ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã®è¡¨ç¤º/éè¡¨ç¤º
        function toggleChatbot() {
            const chatbot = document.getElementById('chatbot');
            chatbot.classList.toggle('active');
            
            if (chatbot.classList.contains('active')) {
                document.getElementById('chatInput').focus();
            }
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ï¼ˆGPT APIå¯¾å¿œç‰ˆï¼‰
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
                showTypingIndicator();
                
                try {
                    // GPT APIã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«å¿œç­”ã‚’å–å¾—
                    let response;
                    if (chatbot) {
                        response = await chatbot.sendMessage(message);
                    } else {
                        // chatbotãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ãƒ­ãƒ¼ã‚«ãƒ«å¿œç­”
                        response = generateResponse(message);
                    }
                    
                    hideTypingIndicator();
                    addMessage(response, 'bot');
                } catch (error) {
                    console.error('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                    hideTypingIndicator();
                    addMessage('ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚ä¸€æ™‚çš„ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ãŠè©¦ã—ãã ã•ã„ã€‚', 'bot');
                }
            }
        }

        // ã‚¯ã‚¤ãƒƒã‚¯è¿”ä¿¡
        function sendQuickReply(message) {
            document.getElementById('chatInput').value = message;
            sendMessage();
        }

        // ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã§ã®é€ä¿¡
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = text;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
        function showTypingIndicator() {
            document.getElementById('typingIndicator').classList.add('active');
        }

        function hideTypingIndicator() {
            document.getElementById('typingIndicator').classList.remove('active');
        }

        // éŸ³å£°å…¥åŠ›ã®åˆ‡ã‚Šæ›¿ãˆ
        function toggleVoiceInput() {
            if (!recognition) {
                alert('ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°èªè­˜ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚');
                return;
            }

            if (isRecording) {
                stopRecording();
            } else {
                startRecording();
            }
        }

        function startRecording() {
            recognition.start();
            isRecording = true;
            document.getElementById('voiceBtn').classList.add('recording');
        }

        function stopRecording() {
            if (recognition && isRecording) {
                recognition.stop();
            }
            isRecording = false;
            document.getElementById('voiceBtn').classList.remove('recording');
        }

        // å¿œç­”ç”Ÿæˆ
        function generateResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // æŒ¨æ‹¶
            if (knowledgeBase.greeting.some(g => message.includes(g))) {
                return "ã“ã‚“ã«ã¡ã¯ï¼å¤©é ˜é…’é€ ã¸ã‚ˆã†ã“ãã€‚ã©ã®ã‚ˆã†ãªã”ç”¨ä»¶ã§ã—ã‚‡ã†ã‹ï¼ŸéŠ˜æŸ„ã®ã”æ¡ˆå†…ã€é…’è”µè¦‹å­¦ã€æ­´å²ãªã©ã€ä½•ã§ã‚‚ãŠå°‹ã­ãã ã•ã„ã€‚";
            }
            
            // å•†å“ã«ã¤ã„ã¦
            for (const [key, product] of Object.entries(knowledgeBase.products)) {
                if (product.keywords.some(k => message.includes(k))) {
                    return product.response;
                }
            }
            
            // æ­´å²
            if (knowledgeBase.history.keywords.some(k => message.includes(k))) {
                return knowledgeBase.history.response;
            }
            
            // å ´æ‰€
            if (knowledgeBase.location.keywords.some(k => message.includes(k))) {
                return knowledgeBase.location.response;
            }
            
            // æ°´
            if (knowledgeBase.water.keywords.some(k => message.includes(k))) {
                return knowledgeBase.water.response;
            }
            
            // ç±³
            if (knowledgeBase.rice.keywords.some(k => message.includes(k))) {
                return knowledgeBase.rice.response;
            }
            
            // è¦‹å­¦
            if (knowledgeBase.visit.keywords.some(k => message.includes(k))) {
                return knowledgeBase.visit.response;
            }
            
            // ãŠã™ã™ã‚
            if (knowledgeBase.recommendation.keywords.some(k => message.includes(k))) {
                return knowledgeBase.recommendation.response;
            }
            
            // ãƒšã‚¢ãƒªãƒ³ã‚°
            if (knowledgeBase.pairing.keywords.some(k => message.includes(k))) {
                return knowledgeBase.pairing.response;
            }
            
            // å—è³
            if (knowledgeBase.award.keywords.some(k => message.includes(k))) {
                return knowledgeBase.award.response;
            }
            
            // æ¸©åº¦
            if (knowledgeBase.temperature.keywords.some(k => message.includes(k))) {
                return knowledgeBase.temperature.response;
            }
            
            // è³¼å…¥
            if (knowledgeBase.buy.keywords.some(k => message.includes(k))) {
                return knowledgeBase.buy.response;
            }
            
            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¿œç­”
            const defaultResponses = [
                "ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚ã‚‚ã†å°‘ã—è©³ã—ããŠèã‹ã›ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿä¾‹ãˆã°ã€Œç´”ç±³å¤§åŸé†¸ã«ã¤ã„ã¦ã€ã€Œé…’è”µè¦‹å­¦ã«ã¤ã„ã¦ã€ãªã©ã¨ãŠå°‹ã­ãã ã•ã„ã€‚",
                "ã”è³ªå•ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚å¤©é ˜é…’é€ ã®éŠ˜æŸ„ã€æ­´å²ã€é…’è”µè¦‹å­¦ãªã©ã«ã¤ã„ã¦è©³ã—ãã”æ¡ˆå†…ã§ãã¾ã™ã€‚ã©ã¡ã‚‰ã«ã¤ã„ã¦ãŠçŸ¥ã‚Šã«ãªã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ",
                "ãŠå•ã„åˆã‚ã›ã®å†…å®¹ã‚’ã‚‚ã†å°‘ã—å…·ä½“çš„ã«ãŠèã‹ã›ãã ã•ã„ã€‚ãŠã™ã™ã‚ã®éŠ˜æŸ„ã€ãƒšã‚¢ãƒªãƒ³ã‚°ã€è³¼å…¥æ–¹æ³•ãªã©ã€æ§˜ã€…ãªæƒ…å ±ã‚’ã”æä¾›ã§ãã¾ã™ã€‚"
            ];
            
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å‡¦ç†
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            const currentScroll = window.pageYOffset;
            
            if (currentScroll > 100) {
                if (currentScroll > lastScroll) {
                    header.style.transform = 'translateY(-100%)';
                } else {
                    header.style.transform = 'translateY(0)';
                }
            }
            
            lastScroll = currentScroll;
        });
    </script>
</body>
</html>